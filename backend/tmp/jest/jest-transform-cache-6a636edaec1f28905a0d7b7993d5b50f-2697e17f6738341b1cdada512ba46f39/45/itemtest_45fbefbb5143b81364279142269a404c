4ac0014c12728b6d9e60882e7fc8d3d0
const mongoose = require('mongoose');

require('dotenv').config();

const {
  Item
} = require('../models');

const itemService = require('../../../../services/item');

describe('ItemService', () => {
  let connection = null;
  let item1 = null;
  let item_1_info = null;
  beforeAll(async () => {
    connection = await connect(process.env.MONGO_URI);
  });
  afterAll(async () => {
    await connection.dropDatabase();
    await mongoose.disconnect();
    await connection.close();
  });
  test('Create Item', async () => {
    item_1_info = {
      name: 'Chair',
      description: 'This is a good chair.',
      price: 100 // category: ,
      // seller: ,

    };
    item1 = await itemService.create(item_1_info);
    const item1db = await Item.findById(item1._id);
    expect(item1).not.toBeNull();
    expect(item1db).not.toBeNull();
    expect(item1db.name).toBe(item_1_info.name);
    expect(item1db.description).toBe(item_1_info.description);
    expect(item1db.price).toBe(item_1_info.price);
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJjb25maWciLCJJdGVtIiwiaXRlbVNlcnZpY2UiLCJkZXNjcmliZSIsImNvbm5lY3Rpb24iLCJpdGVtMSIsIml0ZW1fMV9pbmZvIiwiYmVmb3JlQWxsIiwiY29ubmVjdCIsInByb2Nlc3MiLCJlbnYiLCJNT05HT19VUkkiLCJhZnRlckFsbCIsImRyb3BEYXRhYmFzZSIsImRpc2Nvbm5lY3QiLCJjbG9zZSIsInRlc3QiLCJuYW1lIiwiZGVzY3JpcHRpb24iLCJwcmljZSIsImNyZWF0ZSIsIml0ZW0xZGIiLCJmaW5kQnlJZCIsIl9pZCIsImV4cGVjdCIsIm5vdCIsInRvQmVOdWxsIiwidG9CZSJdLCJzb3VyY2VzIjpbIml0ZW0udGVzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBtb25nb29zZSA9IHJlcXVpcmUoJ21vbmdvb3NlJyk7XG5yZXF1aXJlKCdkb3RlbnYnKS5jb25maWcoKTtcblxuY29uc3QgeyBJdGVtIH0gPSByZXF1aXJlKCcuLi9tb2RlbHMnKTtcblxuY29uc3QgaXRlbVNlcnZpY2UgPSByZXF1aXJlKCcuLi8uLi8uLi8uLi9zZXJ2aWNlcy9pdGVtJyk7XG5cbmRlc2NyaWJlKCdJdGVtU2VydmljZScsICgpID0+IHtcbiAgbGV0IGNvbm5lY3Rpb24gPSBudWxsO1xuICBsZXQgaXRlbTEgPSBudWxsO1xuICBsZXQgaXRlbV8xX2luZm8gPSBudWxsO1xuXG4gIGJlZm9yZUFsbChhc3luYyAoKSA9PiB7XG4gICAgY29ubmVjdGlvbiA9IGF3YWl0IGNvbm5lY3QocHJvY2Vzcy5lbnYuTU9OR09fVVJJKTtcbiAgfSk7XG5cbiAgYWZ0ZXJBbGwoYXN5bmMgKCkgPT4ge1xuICAgIGF3YWl0IGNvbm5lY3Rpb24uZHJvcERhdGFiYXNlKCk7XG4gICAgYXdhaXQgbW9uZ29vc2UuZGlzY29ubmVjdCgpO1xuICAgIGF3YWl0IGNvbm5lY3Rpb24uY2xvc2UoKTtcbiAgfSk7XG5cbiAgdGVzdCgnQ3JlYXRlIEl0ZW0nLCBhc3luYyAoKSA9PiB7XG4gICAgaXRlbV8xX2luZm8gPSB7XG4gICAgICBuYW1lOiAnQ2hhaXInLFxuICAgICAgZGVzY3JpcHRpb246ICdUaGlzIGlzIGEgZ29vZCBjaGFpci4nLFxuICAgICAgcHJpY2U6IDEwMCxcbiAgICAgIC8vIGNhdGVnb3J5OiAsXG4gICAgICAvLyBzZWxsZXI6ICxcbiAgICB9XG5cbiAgICBpdGVtMSA9IGF3YWl0IGl0ZW1TZXJ2aWNlLmNyZWF0ZShpdGVtXzFfaW5mbyk7XG5cbiAgICBjb25zdCBpdGVtMWRiID0gYXdhaXQgSXRlbS5maW5kQnlJZChpdGVtMS5faWQpO1xuXG4gICAgZXhwZWN0KGl0ZW0xKS5ub3QudG9CZU51bGwoKTtcbiAgICBleHBlY3QoaXRlbTFkYikubm90LnRvQmVOdWxsKCk7XG4gICAgZXhwZWN0KGl0ZW0xZGIubmFtZSkudG9CZShpdGVtXzFfaW5mby5uYW1lKTtcbiAgICBleHBlY3QoaXRlbTFkYi5kZXNjcmlwdGlvbikudG9CZShpdGVtXzFfaW5mby5kZXNjcmlwdGlvbik7XG4gICAgZXhwZWN0KGl0ZW0xZGIucHJpY2UpLnRvQmUoaXRlbV8xX2luZm8ucHJpY2UpO1xuICB9KTtcbn0pIl0sIm1hcHBpbmdzIjoiQUFBQSxNQUFNQSxRQUFRLEdBQUdDLE9BQU8sQ0FBQyxVQUFELENBQXhCOztBQUNBQSxPQUFPLENBQUMsUUFBRCxDQUFQLENBQWtCQyxNQUFsQjs7QUFFQSxNQUFNO0VBQUVDO0FBQUYsSUFBV0YsT0FBTyxDQUFDLFdBQUQsQ0FBeEI7O0FBRUEsTUFBTUcsV0FBVyxHQUFHSCxPQUFPLENBQUMsMkJBQUQsQ0FBM0I7O0FBRUFJLFFBQVEsQ0FBQyxhQUFELEVBQWdCLE1BQU07RUFDNUIsSUFBSUMsVUFBVSxHQUFHLElBQWpCO0VBQ0EsSUFBSUMsS0FBSyxHQUFHLElBQVo7RUFDQSxJQUFJQyxXQUFXLEdBQUcsSUFBbEI7RUFFQUMsU0FBUyxDQUFDLFlBQVk7SUFDcEJILFVBQVUsR0FBRyxNQUFNSSxPQUFPLENBQUNDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxTQUFiLENBQTFCO0VBQ0QsQ0FGUSxDQUFUO0VBSUFDLFFBQVEsQ0FBQyxZQUFZO0lBQ25CLE1BQU1SLFVBQVUsQ0FBQ1MsWUFBWCxFQUFOO0lBQ0EsTUFBTWYsUUFBUSxDQUFDZ0IsVUFBVCxFQUFOO0lBQ0EsTUFBTVYsVUFBVSxDQUFDVyxLQUFYLEVBQU47RUFDRCxDQUpPLENBQVI7RUFNQUMsSUFBSSxDQUFDLGFBQUQsRUFBZ0IsWUFBWTtJQUM5QlYsV0FBVyxHQUFHO01BQ1pXLElBQUksRUFBRSxPQURNO01BRVpDLFdBQVcsRUFBRSx1QkFGRDtNQUdaQyxLQUFLLEVBQUUsR0FISyxDQUlaO01BQ0E7O0lBTFksQ0FBZDtJQVFBZCxLQUFLLEdBQUcsTUFBTUgsV0FBVyxDQUFDa0IsTUFBWixDQUFtQmQsV0FBbkIsQ0FBZDtJQUVBLE1BQU1lLE9BQU8sR0FBRyxNQUFNcEIsSUFBSSxDQUFDcUIsUUFBTCxDQUFjakIsS0FBSyxDQUFDa0IsR0FBcEIsQ0FBdEI7SUFFQUMsTUFBTSxDQUFDbkIsS0FBRCxDQUFOLENBQWNvQixHQUFkLENBQWtCQyxRQUFsQjtJQUNBRixNQUFNLENBQUNILE9BQUQsQ0FBTixDQUFnQkksR0FBaEIsQ0FBb0JDLFFBQXBCO0lBQ0FGLE1BQU0sQ0FBQ0gsT0FBTyxDQUFDSixJQUFULENBQU4sQ0FBcUJVLElBQXJCLENBQTBCckIsV0FBVyxDQUFDVyxJQUF0QztJQUNBTyxNQUFNLENBQUNILE9BQU8sQ0FBQ0gsV0FBVCxDQUFOLENBQTRCUyxJQUE1QixDQUFpQ3JCLFdBQVcsQ0FBQ1ksV0FBN0M7SUFDQU0sTUFBTSxDQUFDSCxPQUFPLENBQUNGLEtBQVQsQ0FBTixDQUFzQlEsSUFBdEIsQ0FBMkJyQixXQUFXLENBQUNhLEtBQXZDO0VBQ0QsQ0FsQkcsQ0FBSjtBQW1CRCxDQWxDTyxDQUFSIn0=